# 不同层次下的格网数量


&emsp;&emsp;H3 是一种可以覆盖球体的格网系统，其中既有六边形也有五边形单元格。你会发现大多数情况下你只会遇到六边形单元格，因为在每个分辨率下，***五边形的数量只有12个***，并且都被定位在海洋中。

&emsp;&emsp;以下是五边形、六边形和每个分辨率下的所有单元格的计数。


```python
# 导入 h3 和 tabulate 库
import h3
from tabulate import tabulate

# 定义一个函数计算在给定层次下五边形的数量，因为在任何层次下都是12个五边形，所以直接返回12
def num_pentagons(level):
    return 12

# 定义一个函数计算在给定层次下六边形（不包括五边形）的数量
def num_hexagons(level):
    '在一个层次下的*六边形*（不包括五边形）的数量'
    return h3.num_hexagons(level) - 12

# 定义一个函数计算在给定层次下所有单元（包括五边形和六边形）的数量
def num_cells(level):
    '在一个层次下的*六边形*和*五边形*的总数量'
    return h3.num_hexagons(level)

# 定义一个函数，用于格式化数字，将数字转换为没有小数的字符串
def fmt(num):
    s = '{:,.0f}'
    return s.format(num)  

# 创建一个包含所有层次下五边形、六边形和所有单元数量的列表
counts = [
    (level, num_cells(level), num_hexagons(level), num_pentagons(level))
    for level in range(16)
]

# 将这些数量转换为字符串格式以方便阅读
counts = [
    tuple(map(fmt, row))
    for row in counts
]
counts

```




    [('0', '122', '110', '12'),
     ('1', '842', '830', '12'),
     ('2', '5,882', '5,870', '12'),
     ('3', '41,162', '41,150', '12'),
     ('4', '288,122', '288,110', '12'),
     ('5', '2,016,842', '2,016,830', '12'),
     ('6', '14,117,882', '14,117,870', '12'),
     ('7', '98,825,162', '98,825,150', '12'),
     ('8', '691,776,122', '691,776,110', '12'),
     ('9', '4,842,432,842', '4,842,432,830', '12'),
     ('10', '33,897,029,882', '33,897,029,870', '12'),
     ('11', '237,279,209,162', '237,279,209,150', '12'),
     ('12', '1,660,954,464,122', '1,660,954,464,110', '12'),
     ('13', '11,626,681,248,842', '11,626,681,248,830', '12'),
     ('14', '81,386,768,741,882', '81,386,768,741,870', '12'),
     ('15', '569,707,381,193,162', '569,707,381,193,150', '12')]




```python
headers = [
    '层次',
    '格网总数',
    '六边形格网数量',
    '五边形格网数量',
]
out = tabulate(counts, headers=headers, tablefmt='pipe', stralign='right')

print(out)
```

    |   层次 |            格网总数 |      六边形格网数量 |   五边形格网数量 |
    |-------:|--------------------:|--------------------:|-----------------:|
    |      0 |                 122 |                 110 |               12 |
    |      1 |                 842 |                 830 |               12 |
    |      2 |               5,882 |               5,870 |               12 |
    |      3 |              41,162 |              41,150 |               12 |
    |      4 |             288,122 |             288,110 |               12 |
    |      5 |           2,016,842 |           2,016,830 |               12 |
    |      6 |          14,117,882 |          14,117,870 |               12 |
    |      7 |          98,825,162 |          98,825,150 |               12 |
    |      8 |         691,776,122 |         691,776,110 |               12 |
    |      9 |       4,842,432,842 |       4,842,432,830 |               12 |
    |     10 |      33,897,029,882 |      33,897,029,870 |               12 |
    |     11 |     237,279,209,162 |     237,279,209,150 |               12 |
    |     12 |   1,660,954,464,122 |   1,660,954,464,110 |               12 |
    |     13 |  11,626,681,248,842 |  11,626,681,248,830 |               12 |
    |     14 |  81,386,768,741,882 |  81,386,768,741,870 |               12 |
    |     15 | 569,707,381,193,162 | 569,707,381,193,150 |               12 |



```python
from IPython.display import Markdown
Markdown(out)
```




|   层次 |            格网总数 |      六边形格网数量 |   五边形格网数量 |
|-------:|--------------------:|--------------------:|-----------------:|
|      0 |                 122 |                 110 |               12 |
|      1 |                 842 |                 830 |               12 |
|      2 |               5,882 |               5,870 |               12 |
|      3 |              41,162 |              41,150 |               12 |
|      4 |             288,122 |             288,110 |               12 |
|      5 |           2,016,842 |           2,016,830 |               12 |
|      6 |          14,117,882 |          14,117,870 |               12 |
|      7 |          98,825,162 |          98,825,150 |               12 |
|      8 |         691,776,122 |         691,776,110 |               12 |
|      9 |       4,842,432,842 |       4,842,432,830 |               12 |
|     10 |      33,897,029,882 |      33,897,029,870 |               12 |
|     11 |     237,279,209,162 |     237,279,209,150 |               12 |
|     12 |   1,660,954,464,122 |   1,660,954,464,110 |               12 |
|     13 |  11,626,681,248,842 |  11,626,681,248,830 |               12 |
|     14 |  81,386,768,741,882 |  81,386,768,741,870 |               12 |
|     15 | 569,707,381,193,162 | 569,707,381,193,150 |               12 |




```python

```
